## 設問4

ネットワーク経路にあるスイッチに障害が発生した場合、そのスイッチの配下にあるサーバの応答がすべてタイムアウトすると想定される。
そこで、あるサブネット内のサーバが全て故障（ping応答がすべてN回以上連続でタイムアウト）している場合は、そのサブネット（のスイッチ）の故障とみなそう。
設問2または3のプログラムを拡張して、各サブネット毎にネットワークの故障期間を出力できるようにせよ。

- 解答

ログデータより、10.20.30.1/16と10.20.30.2/16がそれぞれ2回のタイムアウトしている状態である。
変数Nが2に設定されているため、2020年10月19日13時33分24秒の時点でサブネット10.20.30が故障していると判断し、出力している。
また、他の出力結果は設問2, 3の仕様によるものであり、設定したNを超えてタイムアウトしたものを出力している。

- 出力結果

```
故障状態のサーバアドレス：10.20.30.2/16
故障期間：2020年10月19日13時31分25秒 から 2020年10月19日13時32分25秒
------------------------------------------------------
【警告】負荷状態のサーバがあります！
故障状態のサーバアドレス：192.168.1.2/24
直近2回における平均応答時間：10.0ミリ秒
故障期間：2020年10月19日13時31分35秒 から 2020年10月19日13時32分35秒
------------------------------------------------------
故障状態のサーバアドレス：10.20.30.1/16
故障期間：2020年10月19日13時32分24秒 から 2020年10月19日13時33分24秒
------------------------------------------------------
【警告】故障しているサブネットが検出されました！
故障しているサブネット:10.20.30
- 故障状態のサーバアドレス：10.20.30.1/16
- 故障期間：2020年10月19日13時32分24秒 から 2020年10月19日13時33分24秒
故障しているサブネット:10.20.30
- 故障状態のサーバアドレス：10.20.30.2/16
- 故障期間：2020年10月19日13時31分25秒 から 2020年10月19日13時33分24秒
------------------------------------------------------
故障状態のサーバアドレス：10.20.30.2/16
故障期間：2020年10月19日13時31分25秒 から 2020年10月19日13時33分25秒
------------------------------------------------------
```
